# 前言
&emsp;&emsp;MongoDB是一个免费开源的`文档型`数据库，它是典型的`NoSQL`数据库，因为它不依赖传统的基于表的关系数据结构，相反它使用动态架构的类似`JSON`的文档。不像关系型数据库，MongoDB不需要提前定义好模型，在你往数据库中添加数据之前。你可以在任何时候修改表结构，也不需要每次修改表结构够设置新的数据库。

# 文档型数据库
在MongoDB中的记录就是一个文档，该文档是由键值对组成的数据结构。MongoDB很像`JSON`对象，这些键值对的值可以包含其他的文档，数据，或者数组文档。

使用文档型数据库的优点：
- 在许多编程语言中文档符合原生的数据类型
- 嵌入式的文档或者数组可以减少高价的链接查询
- 动态的模式支持流畅的多态性

# 文档
MongoDB将记录存储为BSON文档。BSON是JSON文档的二进制表现形式，尽管它比JSON包含更多的数据类型。

## 文档结构
MongoDB文档是由键值对组成。
````
{
   field1: value1,
   field2: value2,
   field3: value3,
   ...
   fieldN: valueN
}
````

**字段名称**

字段名是`String`  
对于字段名称，MongoDB文档有如下约束：
1. `_id`是保留的被用来当做主键，它的值必须是唯一的，不变的。
2. 字段名称不能包含`null`
3. 字段名称不能以`$`符号开始

虽然BSON文档可以有不止一个相同的字段名，但是用结构表示MongoDB不支持重复的字段名。

**字段值**

字段的值可以是任何`BSON`的数据类型，包括其他的文档，数组，文档数组。

## 点标记


# BSON

`BSON`是一种二进制序列化格式, 用于在MongoDB中存储文档和进行远程过程调用。

每一个BSON类型都有一个integer和string作为唯一标识。

## 特定BSON类型

### ObjectId
ObjectId是唯一的，快速生成，可以排序。ObjectId有12个字节

- 前四个字节是时间戳
- 然后五个字节是随机数
- 最后三个字节是计数器

在MongoDB中，每一个存在集合中的文档需要一个唯一的`_id`字段作为`主键`。如果一个插入的文档没有`_id`字段，MongoDB驱动会自动生成一个`ObjectId`当做`_id`字段。

MongoDB客户端应添加具有唯一`ObjectId`的`_id`字段。使用ObjectId当做`_id`。

### String
