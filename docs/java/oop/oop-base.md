# 面向对象基础

## 多态和动态绑定

父类或接口定义的引用指向子类或实现类的实例对象，即一种类型的变量，可以引用多种实际类型对象。而程序调用的方法在**运行时期**才动态绑定。

父类的变量有两个类型：父类类型称之为**静态类型**，子类类型称之为父类的**动态类型。**

父类变量的引用指向子类，而实际调用的是子类实现，称之为**动态绑定。**

- 编译时多态

- 运行时多态

## 重写和重载

- 重载

重载是指方法名称相同但参数签名不同（参数个数，参数类型，参数顺序不同）

**当有多个重名函数的时候，在决定要调用哪个函数的过程中，首先是按照参数类型进行匹配的，寻找在所有重载版本中最匹配的，然后才看变量的动态类型，进行动态绑定。**

- 重写

重写是指子类重写与父类相同签名参数的方法

## 类型转换

- 向上转型

**子类对象赋值给父类引用变量**

- 向下转型

**父类型的变量赋值给子类变量**

一个父类的变量能不能转换成一个子类的变量，取决于这个父类变量的动态类型，也就是引用对象的类型是不是这个子类或者这个子类的子类。

正确示例

```java
Base b = new Child();
Child c = (Child) b;
```

错误示例

```java
Base b = new Base();
Child c = (Child) b;
```

安全的进行类型转换，通过使用`instanceof`关键字

## 动态绑定和静态绑定

动态绑定是要等到程序运行时，静态绑定是在程序编译阶段即可决定。

- 动态绑定

父类变量的引用指向子类，而实际调用的是子类实现，称之为**动态绑定。**

- 静态绑定

静态绑定在程序编译阶段就决定，**实例变量，静态变量，静态方法，private方法，都是静态绑定。**

- 静态类型是父类，则访问的是父类的变量和方法
- 静态类型是子类，则访问的是子类的变量和方法

## 引用类型

**不同的引用类型，主要体现的是对象不同的可达性（reachable）状态和对垃圾收集的影响。**

### 强引用

只要还有强引用指向一个对象，就能表明对象还活着，垃圾收集器不会碰这种对象。

### 软引用

相对强引用弱化一些的引用，只有当JVM认为内存不足时，才会视图回收软引用指向的对象。JVM会确保在抛出OutOfMemoryError之前清理软引用对象。

### 弱引用

### 幻象引用

幻想引用也称为虚引用


